{% extends './base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block head %}
{{ super() }}
<script>
    window.addEventListener('load', function() {
        var $el = $('body').find('.navbar-collapse');
        var $ul1 = $el.children('ul');
        $ul1.addClass('nav navbar-nav');

        var $li1 = $ul1.children('li');
        $li1.each(function() {
            var $this = $(this);
            if($this.children('ul').length > 0) {
                $this.addClass('dropdown');
                $this.children('a').append('<b class="caret"></b>');
            }
        });


        var $ul2 = $ul1.find('ul');
        $ul2.addClass('dropdown-menu');
        var $li2 = $li1.find('li');
        $li2.each(function() {
            var $this = $(this);
            if($this.children('ul').length > 0) {
                $this.addClass('dropdown-submenu').attr('role', 'menu');
            }
        });
        $el.find('li.dropdown > a').addClass('dropdown-toggle').attr('data-toggle', 'dropdown').attr('tabindex', -1);
    });
</script>
{% endblock %}

<!-- override menu block -->
{% block menu %}
<nav role="navigation" class="navbar flexible-navbar">
    <div id="navbar" class="navbar-collapse collapse">
        {{ menuHtml|safe }}
    </div>

</nav>

{% endblock  menu %}

{% block content %}
{% endblock %}




